<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href=Delta.css>
    
  
<script>
window.addEventListener("DOMContentLoaded", function(){
var k=[];
if(localStorage.getItem('pkey')!==null)
k=JSON.parse(localStorage.getItem('pkey'));
var list = document.getElementById("notes");
   
  
   for (var i = 0; i < (localStorage.length)-1; i++){
    
     
     if(localStorage.key(i)!== -1)
      {   
        if(localStorage.getItem(i)!=0)
      
       
       {var item = document.createElement("li");
       item.textContent = localStorage.getItem(i);
        item.setAttribute("class", "demo2");       
       list.appendChild(item);
      
      }
      
      
     
     }
   
   }
   
   var btn = document.getElementById("q");
   var note = document.getElementById("textin");
  var btn2=document.getElementById("w");
 var btn3 = document.getElementById("e");
  var btn4 = document.getElementById("r");
   var noteCount = 1;
var text=document.getElementById("textin");
var pri=document.getElementById("p");
var prie=document.getElementById("p");
var btn5 = document.getElementById("t");
   
   btn.addEventListener("click", function(){
     
    var c;
    
    if(localStorage.length==0)
    c=0;
    else
    c=(localStorage.length)-1;
    
    var noteVal = note.value;
    k.push(pri.value);
   
   if(noteVal.trim() !== ""){
           localStorage.setItem('pkey',JSON.stringify(k));
          localStorage.setItem(c, noteVal);
          
          var lstItem = document.createElement("li");
          lstItem.textContent = noteVal;
            lstItem.setAttribute("class", "demo2");
           list.appendChild(lstItem);
      
       
     }
  
   });
 btn2.addEventListener("click", function(){ 
  while(list.hasChildNodes())
    {
      list.removeChild(list.firstChild);
       
    } 
    
window.localStorage.clear();
noteCount=1;
});
btn3.addEventListener("click", function()
{ 
  var ednum=prompt("Please enter the index of the note that you want to edit");
   var t=text.value;
  if(ednum!=null)
   {var po=prie.value;
   if(t=="")
    alert("please enter your edited note in the textarea and click EDIT NOTES");
    else{
    var ele=document.createElement("li");
    ele.textContent = t;
    ele.setAttribute("class","demo2");
    list.replaceChild(ele, list.childNodes[ednum-1]);
    localStorage.setItem((ednum-1),t);
  }
}
     
  
 });
btn4.addEventListener("click", function()
  {var ednum1=prompt("Please enter the index of the note that you want to delete");
  list.removeChild(list.childNodes[ednum1-1]);
  localStorage.setItem((ednum1-1),0);
  
  k.splice((ednum1-1),1);
  localStorage.setItem('pkey',JSON.stringify(k));
  
 });

});
</script>
<body>
       <textarea placeholder="ENTER YOUR NOTES:" rows="4" columns="50" id=textin></textarea>
       <select id=p placeholder="set priority" >
         <option value="s1">LOW</option>
         <option value="s2">MODERATE</option>
        <option value="s3">HIGH</option>
       </select>
       
       <input type=button class="first" value="Save Note" id=q>
      <input type=button class="second" value="Clear All" id=w>
      <input type=button class="third" value="Edit Notes" id=e>
      <input type=button class="fourth" value="Delete Notes" id=r>


<ol id=notes></ol>
</body>
</head>
</html>